dir.create(path = "data")
dir.create(path = "output")
all_gapminder <- read.csv(file = "data//gapminder-FiveYearData.csv", stringsAsFactors = TRUE)
head(all_gapminder)
str(all_gapminder)
summary(all_gapminder)
gapminder <- all_gapminder[all_gapminder$year == 2002,]
plot(x = gapminder$gdpPercap,)
plot(x = gapminder$gdpPercap,y= gapminder$lifeExp)
# plotting the values
plot(x = gapminder$gdpPercap,
y = gapminder$lifeExp,
main = "Life expectancy V. GDP",
xlab = "GDP per capita",
ylab = "Life expectance (years)")
plot(x = collect$Log10GDP,
y = collect$lifeExp,
main = "Life expectancy V, GDP",
xlab = "Log(GDP Per Capita",
ylab = "Life expectancy (years)")
collect <- all_gapminder[all_gapminder$year == 2002,]
collect$Log10GDP <- log10(collect$gdpPercap)
plot(x = collect$Log10GDP,
y = collect$lifeExp,
main = "Life expectancy V, GDP",
xlab = "Log(GDP Per Capita",
ylab = "Life expectancy (years)")
legend("topleft",
legend = levels(gapminder$continent),
col = c("red","orange","forestgreen","darkblue","violet"),
pch = 18)
# fetching the dataset
all_gapminder <- read.csv(file = 'data/gapminder-FiveYearData.csv',
stringsAsFactors = TRUE)
# Sub setting the data for the year 2002
gapminder <- all_gapminder[all_gapminder$year == 2002,]
# apply log transformation and create a new vector
gapminder$Log10GDP <- log10(gapminder$gdpPercap)
# creating an empty vector for the colors
gapminder$colors <-NA
#Assigning colors based on the continent "gapminder$continent
gapminder$colors[gapminder$continent == 'Africa'] <- "red"
gapminder$colors[gapminder$continent == 'Americas'] <- "orange"
gapminder$colors[gapminder$continent == 'Asia'] <- "forestgreen"
gapminder$colors[gapminder$continent == 'Europe'] <- "darkblue"
gapminder$colors[gapminder$continent == 'Ocenia'] <- "violet"
#Create the plot
plot(x = gapminder$Log10GDP,
y = gapminder$lifeExp,
main = "Life expectancy V, GDP",
xlab = "Log(GDP Per Capita",
ylab = "Life expectancy (years)",
col = gapminder$colors,
pch = 18)
legend("topleft",
legend = levels(gapminder$continent),
col = c("red","orange","forestgreen","darkblue","violet"),
pch = 18)
source("D:/R/learning-R/colored_plot.R")
source("D:/R/learning-R/colored_plot.R")
abline(reg = lifeExp_lm, lty = 2, lwd= 2)
# Read in data
all_gapminder <- read.csv(file = "data/gapminder-FiveYearData.csv",
stringsAsFactors = TRUE)
# Subset data
gapminder <- all_gapminder[all_gapminder$year == 2002,]
# Making a new vector for transformed GDP
gapminder$Log10GDP <- log10(gapminder$gdpPercap)
# Storing values for plotting parameters
symbol <- 18
sym_size <- 1.2
continents <- levels(gapminder$continent)
continent_colors <- c("red","orange","forestgreen","darkblue","violet")
# Assign the colors for each continent in a new vector
gapminder$colors <- NA
gapminder$colors[gapminder$continent == continents[1]] <-continent_colors[1]
gapminder$colors[gapminder$continent == continents[2]] <-continent_colors[2]
gapminder$colors[gapminder$continent == continents[3]] <-continent_colors[3]
gapminder$colors[gapminder$continent == continents[4]] <-continent_colors[4]
gapminder$colors[gapminder$continent == continents[5]] <-continent_colors[5]
# Create main plot
plot(x = gapminder$Log10GDP,
y = gapminder$lifeExp,
main = "Life expectancy v. GDP",
xlab = "Log(GDP Per capita)",
ylab = "Life expectancy (years)",
col = gapminder$colors,
pch = symbol,
cex = sym_size,
lwd = 1.5)
# adding legend
legend("topleft",
legend = continents,
col = continent_colors,
pch = symbol)
lifeExp_lm <- lm(gapminder$lifeExp ~ gapminder$Log10GDP)
abline(reg = lifeExp_lm, lty = 2, lwd= 2)
# Create main plot
plot(x = gapminder$Log10GDP,
y = gapminder$lifeExp,
main = "Life expectancy v. GDP",
xlab = "Log(GDP Per capita)",
ylab = "Life expectancy (years)",
col = gapminder$colors,
pch = symbol,
cex = sym_size,
lwd = 1.5)
# adding legend
legend("topleft",
legend = continents,
col = continent_colors,
pch = symbol)
lifeExp_lm <- lm(gapminder$lifeExp ~ gapminder$Log10GDP)
abline(reg = lifeExp_lm, lty = 2, lwd= 2)
abline(reg = lifeExp_lm, lty = 2, lwd = 2)
# reading data
all_gapminder <- read.csv(file = "data/gapminder-FiveYearData.csv",
stringsAsFactors = TRUE)
#Subsetting data
gapminder <- all_gapminder[all_gapminder$year == 2002,]
# making a new vector for Logged transformations
gapminder$Log10GDP <- log10(gapminder$gdpPercap)
# Store values to use for some plotting parameters
symbol <- 18
sym_size <- 1.2
continents <- levels(gapminder$continent)
continent_colors <- c("red", "orange", "forestgreen", "darkblue", "violet")
# establishing the empty column to store colors
gapminder$colors <- NA
for (i in 1:length(continents)) {
gapminder$colors[gapminder$continent == continents[i]] <- continent_colors[i]
}
# Create main plot
plot(x = gapminder$Log10GDP,
y = gapminder$lifeExp,
main = "Life expectancy v. GDP",
xlab = "Log(GDP Per capita)",
ylab = "Life expectancy (years)",
col = gapminder$colors,
pch = symbol,
cex = sym_size,
lwd = 1.5)
# Add a legend
legend("topleft",
legend = continents,
col = continent_colors,
pch = symbol)
# Add a regression line
lifeExp_lm <- lm(gapminder$lifeExp ~ gapminder$Log10GDP)
abline(reg = lifeExp_lm, lty = 2, lwd = 2)
# Read in data
all_gapminder <- read.csv(file = "data/gapminder-FiveYearData.csv",
stringsAsFactors = TRUE)
# Subset data
gapminder <- all_gapminder[all_gapminder$year == 2002, ]
# Make new vector of Log GDP
gapminder$Log10GDP <- log10(gapminder$gdpPercap)
# Store values to use for some plotting parameters
symbol <- 18
sym_size <- 1.2
continents <- levels(gapminder$continent)
continent_colors <- c("red", "orange", "forestgreen", "darkblue", "violet")
# Create new vector for colors
gapminder$colors <- NA
# Loop over continents and assign colors
for (i in 1:length(continents)) {
gapminder$colors[gapminder$continent == continents[i]] <- continent_colors[i]
}
# Open PDF device
pdf(file = "output/Life_expectancy_graph.pdf", useDingbats = FALSE)
# Create main plot
plot(x = gapminder$Log10GDP,
y = gapminder$lifeExp,
main = "Life expectancy v. GDP",
xlab = "Log(GDP Per capita)",
ylab = "Life expectancy (years)",
col = gapminder$colors,
pch = symbol,
cex = sym_size,
lwd = 1.5)
# Add a legend
legend("topleft",
legend = continents,
col = continent_colors,
pch = symbol)
# Add a regression line
lifeExp_lm <- lm(gapminder$lifeExp ~ gapminder$Log10GDP)
abline(reg = lifeExp_lm, lty = 2, lwd = 2)
# Close PDF device
dev.off()
# Read in data
all_gapminder <- read.csv(file = "data/gapminder-FiveYearData.csv",
stringsAsFactors = TRUE)
# Hold off on subsetting the data
# Make new vector of Log GDP
all_gapminder$Log10GDP <- log10(all_gapminder$gdpPercap)
# Store values to use for some plotting parameters
symbol <- 18
sym_size <- 1.2
continents <- levels(all_gapminder$continent)
continent_colors <- c("red", "orange", "forestgreen", "darkblue", "violet")
# Create new vector for colors
all_gapminder$colors <- NA
# Loop over continents and assign colors
for (i in 1:length(continents)) {
all_gapminder$colors[all_gapminder$continent == continents[i]] <- continent_colors[i]
}
years <- unique(all_gapminder$year)
# Looping over the years to create different pdfs
for ( curr_year in years) {
gapminder_per_year <- all_gapminder[all_gapminder$year == curr_year,]
#open pdf
filename <- paste0("output/Life_exp_",curr_year,"_graph.pdf")
pdf(file = filename, useDingbats = FALSE)
# Create main plot
plot(x = gapminder_one_year$Log10GDP,
y = gapminder_one_year$lifeExp,
main = "Life expectancy v. GDP",
sub = curr_year,
xlab = "Log(GDP Per capita)",
ylab = "Life expectancy (years)",
col = gapminder_one_year$colors,
pch = symbol,
cex = sym_size,
lwd = 1.5)
# Add a legend
legend("topleft",
legend = continents,
col = continent_colors,
pch = symbol)
# Add a regression line
lifeExp_lm <- lm(gapminder_one_year$lifeExp ~ gapminder_one_year$Log10GDP)
abline(reg = lifeExp_lm, lty = 2, lwd = 2)
# Close PDF device
dev.off()
}
# Read in data
all_gapminder <- read.csv(file = "data/gapminder-FiveYearData.csv",
stringsAsFactors = TRUE)
# Hold off on subsetting the data
# Make new vector of Log GDP
all_gapminder$Log10GDP <- log10(all_gapminder$gdpPercap)
# Store values to use for some plotting parameters
symbol <- 18
sym_size <- 1.2
continents <- levels(all_gapminder$continent)
continent_colors <- c("red", "orange", "forestgreen", "darkblue", "violet")
# Create new vector for colors
all_gapminder$colors <- NA
# Loop over continents and assign colors
for (i in 1:length(continents)) {
all_gapminder$colors[all_gapminder$continent == continents[i]] <- continent_colors[i]
}
years <- unique(all_gapminder$year)
# Looping over the years to create different pdfs
for ( curr_year in years) {
gapminder_per_year <- all_gapminder[all_gapminder$year == curr_year,]
#open pdf
filename <- paste0("output/Life_exp_",curr_year,"_graph.pdf")
pdf(file = filename, useDingbats = FALSE)
# Create main plot
plot(x = gapminder_per_year$Log10GDP,
y = gapminder_per_year$lifeExp,
main = "Life expectancy v. GDP",
sub = curr_year,
xlab = "Log(GDP Per capita)",
ylab = "Life expectancy (years)",
col = gapminder_per_year$colors,
pch = symbol,
cex = sym_size,
lwd = 1.5)
# Add a legend
legend("topleft",
legend = continents,
col = continent_colors,
pch = symbol)
# Add a regression line
lifeExp_lm <- lm(gapminder_per_year$lifeExp ~ gapminder_per_year$Log10GDP)
abline(reg = lifeExp_lm, lty = 2, lwd = 2)
# Close PDF device
dev.off()
}
